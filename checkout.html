<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Licorys</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-wine-glass"></i> Licorys
            </a>
        </div>
    </nav>

    <!-- Checkout -->
    <section class="section-content">
        <div class="container">
            <h1>Finalizar Compra</h1>
            <hr>

            <!-- Indicador de Progreso -->
            <div class="progress mb-4">
                <div class="progress-bar bg-custom" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                    Paso 3: Checkout
                </div>
            </div>

            <div class="row">
                <!-- Formulario -->
                <div class="col-md-8">
                    <form id="checkoutForm" onsubmit="procesarPedido(event)">
                        <!-- Datos Personales -->
                        <div class="card mb-4">
                            <div class="card-header bg-custom text-white">
                                <h5 class="mb-0">üë§ Informaci√≥n Personal</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="nombre" class="form-label">Nombre Completo *</label>
                                        <input type="text" class="form-control" id="nombre" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label">Correo Electr√≥nico *</label>
                                        <input type="email" class="form-control" id="email" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="telefono" class="form-label">Tel√©fono *</label>
                                        <input type="tel" class="form-control" id="telefono" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="cedula" class="form-label">C√©dula / Identificaci√≥n *</label>
                                        <input type="text" class="form-control" id="cedula" required>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Direcci√≥n de Env√≠o -->
                        <div class="card mb-4">
                            <div class="card-header bg-custom text-white">
                                <h5 class="mb-0">üìç Direcci√≥n de Env√≠o</h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="direccion" class="form-label">Direcci√≥n *</label>
                                    <input type="text" class="form-control" id="direccion" placeholder="Calle, n√∫mero, apto" required>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="ciudad" class="form-label">Ciudad *</label>
                                        <input type="text" class="form-control" id="ciudad" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="departamento" class="form-label">Departamento *</label>
                                        <input type="text" class="form-control" id="departamento" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="codigoPostal" class="form-label">C√≥digo Postal</label>
                                    <input type="text" class="form-control" id="codigoPostal">
                                </div>
                            </div>
                        </div>

                        <!-- M√©todo de Pago -->
                        <div class="card mb-4">
                            <div class="card-header bg-custom text-white">
                                <h5 class="mb-0">üí≥ M√©todo de Pago</h5>
                            </div>
                            <div class="card-body">
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="radio" name="metodoPago" id="pago_transferencia" value="transferencia" checked>
                                    <label class="form-check-label" for="pago_transferencia">
                                        Transferencia Bancaria
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="radio" name="metodoPago" id="pago_efectivo" value="efectivo">
                                    <label class="form-check-label" for="pago_efectivo">
                                        Contra Entrega (Efectivo)
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="metodoPago" id="pago_mercadopago" value="mercadopago">
                                    <label class="form-check-label" for="pago_mercadopago">
                                        Mercado Pago / Tarjeta de Cr√©dito
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- T√©rminos y Condiciones -->
                        <div class="mb-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="terminos" required>
                                <label class="form-check-label" for="terminos">
                                    Acepto los <a href="#" target="_blank">t√©rminos y condiciones</a> y la 
                                    <a href="#" target="_blank">pol√≠tica de privacidad</a>
                                </label>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-custom btn-lg w-100 mb-2">
                            ‚úì Completar Pedido
                        </button>
                        <a href="cart.html" class="btn btn-outline-custom btn-lg w-100">
                            ‚Üê Volver al Carrito
                        </a>
                    </form>
                </div>

                <!-- Resumen del Pedido -->
                <div class="col-md-4">
                    <div class="card sticky-top" style="top: 100px;">
                        <div class="card-header bg-custom text-white">
                            <h5 class="mb-0">Resumen del Pedido</h5>
                        </div>
                        <div class="card-body">
                            <div id="checkoutItemsList" style="max-height: 300px; overflow-y: auto; margin-bottom: 15px;">
                                <!-- Los items se cargar√°n desde JavaScript -->
                            </div>
                            <hr>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Subtotal:</span>
                                <span id="checkoutSubtotal">$0.00</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>IVA (19%):</span>
                                <span id="checkoutIVA">$0.00</span>
                            </div>
                            <div class="d-flex justify-content-between mb-3">
                                <span>Env√≠o:</span>
                                <span id="checkoutEnvio">$5.00</span>
                            </div>
                            <hr>
                            <div class="d-flex justify-content-between" style="font-size: 1.2em; font-weight: bold;">
                                <span>Total:</span>
                                <span id="checkoutTotal" class="text-danger">$0.00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <p>&copy; 2025 Licorys. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal de Confirmaci√≥n -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-custom text-white">
                    <h5 class="modal-title">‚úì ¬°Pedido Confirmado!</h5>
                </div>
                <div class="modal-body text-center">
                    <div style="font-size: 60px; margin: 20px 0;">üéâ</div>
                    <h4>Tu pedido ha sido registrado exitosamente</h4>
                    <p class="text-muted mt-3">
                        Tu n√∫mero de pedido es: <strong id="pedidoNumero">#000000</strong>
                    </p>
                    <p class="text-muted small">
                        Te enviaremos un correo de confirmaci√≥n pronto
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-custom" data-bs-dismiss="modal" onclick="volverAlInicio()">
                        Ir al Inicio
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script src="checkout.js"></script>
</body>
</html>
